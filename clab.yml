---
name: AVD-AAP
prefix: ""

mgmt:
    ipv4-subnet: 172.16.2.0/24

topology:
    kinds:
        arista_ceos:
            image: ceos:4.35.1F
            env:
              CLAB_MGMT_VRF: MGMT
    defaults:
        kind: arista_ceos
    nodes:
        htft-spine1:
            mgmt-ipv4: 172.16.2.11
            startup-config: ./intended/configs/htft-spine1.cfg
            ports:
              - 192.168.33.61:8441:443
              - 127.0.0.1:8441:443
        htft-spine2:
            mgmt-ipv4: 172.16.2.12
            startup-config: ./intended/configs/htft-spine2.cfg
            ports:
              - 192.168.33.61:8442:443
              - 127.0.0.1:8442:443
        htft-leaf1a:
            mgmt-ipv4: 172.16.2.101
            startup-config: ./intended/configs/htft-leaf1a.cfg
            ports:
              - 192.168.33.61:8443:443
              - 127.0.0.1:8443:443
        htft-leaf1b:
            mgmt-ipv4: 172.16.2.102
            startup-config: ./intended/configs/htft-leaf1b.cfg
            ports:
              - 192.168.33.61:8444:443
              - 127.0.0.1:8444:443

    links:
    # spines to a/b leafs
    - endpoints: ["htft-spine1:eth1", "htft-leaf1a:eth1"]
    - endpoints: ["htft-spine1:eth2", "htft-leaf1b:eth1"]
    - endpoints: ["htft-spine2:eth1", "htft-leaf1a:eth2"]
    - endpoints: ["htft-spine2:eth2", "htft-leaf1b:eth2"]

    # leaf a/b peer-links
    - endpoints: ["htft-leaf1a:eth3", "htft-leaf1b:eth3"]
    - endpoints: ["htft-leaf1a:eth4", "htft-leaf1b:eth4"]
